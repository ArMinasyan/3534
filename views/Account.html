<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Hypertherm</title>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.11.2/css/all.css">
    <!-- Bootstrap core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <!-- Material Design Bootstrap -->
    <link href="css/mdb.min.css" rel="stylesheet">
    <!-- Style custom styles (optional) -->
    <link href="css/style.min.css" rel="stylesheet">
    <!-- Style Custom style -->
    <link href="css/custom.css" rel="stylesheet">

</head>

<body class="lighten-3">


    <div class="container my-5 account-container">

        <!-- row -->
        <div class="row">
            <!-- Cartige Summari Report -->
            <div class=" offset-md-2 col-md-8">

                <div class="card mt-5">
                    <!-- Nav tabs -->
                    <ul class="nav nav-tabs md-tabs nav-justified primary-color" role="tablist">
                        <li class="nav-item">
                            <a class="nav-link active tab_link" data-toggle="tab" href="#loginPanel" role="tab">
                                <i class="fas fa-user pr-2"></i>
                                Sign in
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link tab_link" data-toggle="tab" href="#RegistrPanel" role="tab">
                                <i class="fas fa-heart pr-2"></i>
                                Sign up
                            </a>
                        </li>
                    </ul>
                    <!-- Nav tabs -->

                    <!-- Tab panels -->
                    <div class="tab-content">

                        <!-- Panel 1 -->
                        <div class="tab-pane fade in show active" id="loginPanel" role="tabpanel">
                            <!-- Form -->
                            <!-- Default form login -->
                            <form class="text-center border border-light p-5" action="#!">

                                <p class="h4 mb-4">Sign in</p>

                                <!-- Email -->
                                <input type="email" id="email" class="form-control mb-4" placeholder="E-mail">

                                <!-- Password -->
                                <input type="password" id="password" class="form-control mb-4" placeholder="Password">
                                <large id="login_error" class="form-text text-danger text-muted mb-4"> </large>


                                <!-- Sign in button -->
                                <button class="btn btn-info btn-block my-4" id="sign_in" type="button">Sign
                                    in</button>

                            </form>
                            <!-- Default form login -->
                            <!-- Form -->


                        </div>
                        <!-- Panel 1 -->

                        <!-- Panel 2 -->
                        <div class="tab-pane fade" id="RegistrPanel" role="tabpanel">

                            <!-- Default form register -->
                            <form class="text-center border border-light p-5" action="#!">

                                <p class="h4 mb-4">Sign up</p>

                                <div class="form-group">
                                    <!-- E-mail -->
                                    <input type="email" id="defaultRegisterFormEmail" class="form-control mb-4"
                                        placeholder="E-mail">
                                    <small id="defaultRegisterFormFirstName"
                                        class="form-text text-danger text-muted mb-4">
                                        At least 8 characters and 1 digit
                                    </small>
                                </div>

                                <div class="form-group">
                                    <!-- Password -->
                                    <input type="password" id="defaultRegisterFormPassword" class="form-control"
                                        placeholder="Password" aria-describedby="defaultRegisterFormPasswordHelpBlock">
                                    <small id="defaultRegisterFormPasswordHelpBlock"
                                        class="form-text text-danger text-muted mb-4">
                                        At least 8 characters and 1 digit
                                    </small>
                                </div>
                                <div class="form-group">
                                    <!-- Confirme Password -->
                                    <input type="password" id="defaultRegisterFormPassword" class="form-control"
                                        placeholder="Confirm Password"
                                        aria-describedby="defaultRegisterFormPasswordHelpBlock" />
                                    <small id="defaultRegisterFormPasswordHelpBlock"
                                        class="form-text text-danger text-muted mb-4">
                                        At least 8 characters and 1 digit
                                    </small>

                                </div>



                                <div class="form-group">
                                    <div class="d-flex justify-content-around">
                                        <!-- Default unchecked -->
                                        <div class="custom-control custom-radio">
                                            <input type="radio" class="custom-control-input" id="RadioUser"
                                                name="defaultExampleRadios">
                                            <label class="custom-control-label" for="RadioUser"> User </label>
                                        </div>

                                        <!-- Default checked -->
                                        <div class="custom-control custom-radio">
                                            <input type="radio" class="custom-control-input" id="RadioAddmin"
                                                name="defaultExampleRadios" checked>
                                            <label class="custom-control-label" for="RadioAddmin"> Addmin </label>
                                        </div>
                                    </div>
                                </div>


                                <!-- Sign up button -->
                                <button class="btn btn-info my-4 btn-block" type="submit">Sign up</button>



                            </form>
                            <!-- Default form register -->

                        </div>
                        <!-- Panel 2 -->

                    </div>
                    <!-- Tab panels -->

                </div>

            </div>

        </div>
    </div>



    <!-- SCRIPTS -->
    <!-- JQuery -->
    <script src="js/jquery-3.4.1.min.js"></script>
    <!-- Bootstrap tooltips -->
    <script src="js/popper.min.js"></script>
    <!-- Bootstrap core JavaScript -->
    <script src="js/bootstrap.min.js"></script>
    <!-- MDB core JavaScript -->
    <script src="js/mdb.min.js"></script>
    <!-- Initializations -->
    <script src="js/custom.js"></script>

    <!--Google Maps-->
    <script src="https://maps.google.com/maps/api/js"></script>


</body>


<script>
    $(document).on('click', '#sign_in', function () {
        let username = $('#email').val(),
            password = $('#password').val();

        $.post('/user/login', { email: username, password: password }, function (data) {
            //  console.log(data);
            $('#login_error').text(data.msg);
            if (data.login == true) {
                sessionStorage.setItem('token', data.token);
                window.location.href = '/data';
            }
        })
    })
</script>

</html>