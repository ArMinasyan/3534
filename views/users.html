<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Hypertherm</title>
  
  <!-- Bootstrap core CSS -->
  <link href="css/bootstrap.min.css" rel="stylesheet">
  <!-- Material Design Bootstrap -->
  <link href="css/mdb.min.css" rel="stylesheet">
  <!-- Style custom styles (optional) -->
  <link href="css/style.min.css" rel="stylesheet">
  <!-- Style Custom style -->
  <link href="css/custom.css" rel="stylesheet">
  <link rel="https://cdn.datatables.net/1.10.21/css/jquery.dataTables.min.css" />

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.11.2/css/all.css">

</head>

<body class="lighten-3">

  <!--Main Navigation-->
  <header>

    <!-- Navbar -->
    <nav class="navbar fixed-top navbar-expand-lg navbar-light white scrolling-navbar">
      <div class="container-fluid">
        
        <form id="filter" class="form-inline d-flex md-form my-3">
          <div class="form-row">
            <div class="col form-content d-flex justify-content-center">
              

              <select id="filter_value" class="browser-default custom-select">
                <option>Find By</option>
                <option value="assetId">Asset ID</option>
                <option value="UUID">UUID</option>
                <option value="ManufacturingDate">Manufacturing Date</option>
                <option value="manufacturer">Manufacturer</option>
                <option value="serialNumber">Serial Number</option>
              </select>
           
            </div>
            <div class="col d-flex form-content">
              
             
              <input 
                id="filter_data" 
                class="form-control form-control-sm ml-3 w-100 font-14" 
                type="text" 
                placeholder="Search"
                aria-label="Search">
                <div class="ml-2">

                <!-- <i class="fas fa-search" aria-hidden="true"></i> -->
                <button type="submit" class="btn btn-outline-primary btn-sm btn-rounded waves-effect">
                  Search
                </button>
                </div>
                
            </div>
          </div>

        </form> 

        <!-- Collapse -->
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
          aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>

        <!-- Links -->
        <div class="collapse navbar-collapse" id="navbarSupportedContent">

          <!-- Right -->
          <!-- <ul class="navbar-nav nav-flex-icons ml-auto">

            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" id="navbarDropdownMenuLink-333" data-toggle="dropdown"
                aria-haspopup="true" aria-expanded="false">
                <i class="fas fa-user"></i>
              </a>
              <div class="dropdown-menu dropdown-menu-right dropdown-default"
                aria-labelledby="navbarDropdownMenuLink-333">
                <a class="dropdown-item" href="#">Action</a>
                <a class="dropdown-item" href="#">Another action</a>
                <a class="dropdown-item" href="#">Something else here</a>
              </div>
            </li>
          </ul> -->

        </div>

      </div>
    </nav>
    <!-- Navbar -->

    <!-- Sidebar -->
    <div class="sidebar-fixed position-fixed ">

      <div class="list-group list-group-flush my-5">
        <a href="dashboard.html" class="list-group-item list-group-item-action waves-effect ">
          <i class="fas fa-pencil-alt mr-3"></i>       
          <span>Summary report</span>
        </a>
        <a href="contactus.html" class="list-group-item list-group-item-action waves-effect">
          <i class="fas fa-digital-tachograph mr-3"></i>
          <span>Data Replicated</span>
        </a>
        <a href="charts.html" class="list-group-item list-group-item-action waves-effect">
          <i class="fas fa-chart-bar mr-3"></i>
          <span>Charts</span>
        </a>
        <a href="products.html" class="list-group-item list-group-item-action waves-effect">
          <i class="fas fa-chart-pie mr-3"></i>
          <span>Cartridge Types</span>
        </a>
        <a href="about.html" class="list-group-item list-group-item-action waves-effect"> 
          <i class="fas fa-chart-line mr-3"></i>
          <span>Criteria</span>
        </a>
        <a href="about.html" class="list-group-item list-group-item-action waves-effect">
          <i class="fas fa-clipboard-list mr-3"></i>
          <span>EU List</span> 
        </a>
        <a href="index.html" class="list-group-item list-group-item-action waves-effect">
          <i class="fas fa-table mr-3"></i> 
          <span>Torch table</span>
        </a>
        <a href="fulttable.html" class="list-group-item list-group-item-action waves-effect">
          <i class="fas fa-file-code mr-3"></i>
          <span>Fault Code Table</span>
          
        </a>
        <a href="pawertable.html" class="list-group-item list-group-item-action waves-effect">
          <i class="fas fa-tablets mr-3"></i> 
          <span>Power supply table</span>
        </a>
        <a href="about.html" class="list-group-item list-group-item-action waves-effect">
          <i class="fas fa-border-all mr-3"></i> 
          <span>Cartridge table</span>
        </a>
      </div>

    </div>
    <!-- Sidebar -->

  </header>
  <!--Main Navigation-->

  <!--Main layout-->
  <main class="py-5 mx-lg-5">
    <div class="container-fluid mt-5">

      <table id="example" class="display mt-5" style="width:100%">
        <thead>
            <tr>
                <th>Name</th>
                <th>Position</th>
                <th>Office</th>
                <th>Age</th>
                <th>Start date</th>
                <th>Salary</th>
            </tr>
        </thead>
        <tbody id="maintable">
           
        </tbody>
        <tfoot>
            <tr>
                <th>Name</th>
                <th>Position</th>
                <th>Office</th>
                <th>Age</th>
                <th>Start date</th>
                <th>Salary</th>
            </tr>
        </tfoot>
    </table>

    </div>
  </main>
  <!--Main layout-->

      <!-- Modal -->
     <div class="modal fade" id="SearchModal" tabindex="-1" role="dialog" aria-labelledby="SearchModal"
  aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Search Info</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <table class="table table-striped">

          <thead>
            <tr>
              <th scope="col">#</th>
              <th scope="col">First Name</th>
              <th scope="col">Last Name</th>
       
            </tr>
          </thead>
          <tbody>
            <tr>
              <th scope="row">1</th>
              <td>Manufacturer</td>
              <td id="manufacturer"></td>
            </tr>
              <tr>
                <th scope="row">2</th>
                <td>Asset ID</td>
                <td id='assetId'></td>
              </tr>
              <tr>
                <th scope="row">3</th>
                <td>UUID</td>
                <td id="UUID"></td>
              </tr>
              <tr>
                <th scope="row">4</th>
                <td>Serial Number</td>
                <td id="serialNumber"></td>
              </tr>
              <tr>
                <th scope="row">5</th>
                <td>Part Number</td>
                <td id="PartNumber"></td>
              </tr>
              <tr>
                <th scope="row">5</th>
                <td>Timestamp</td>
                <td id="timestamp"></td>
              </tr>
              <tr>
                <th scope="row">6</th>
                <td>Part Number Revision</td>
                <td id="PartNumberRevision"></td>
              </tr>
              <tr>
                <th scope="row">7</th>
                <td>Cartridge Type</td>
                <td id="CartridgeType"></td>
              </tr>
              <tr>
                <th scope="row">8</th>
                <td>Cartridge Design Revision</td>
                <td id="CartridgeDesignRevision"></td>
              </tr>
              <tr>
                <th scope="row">9</th>
                <td>Manufacturing Date</td>
                <td id="ManufacturingDate"></td>
              </tr>
              <tr>
                <th scope="row">10</th>
                <td> Manufacturing Test Status</td>
                <td id="ManufacturingTestStatus"></td>
              </tr>
              
              <tr>
                <th scope="row">11</th>
                <td> Arc Time</td>
                <td id="ArcTime"></td>
              </tr>
              <tr>
                <th scope="row">12</th>
                <td> Pilot Time</td>
                <td id="PilotTime"></td>
              </tr>
              <tr>
                <th scope="row">13</th>
                <td> Transfer Time</td>
                <td id="TransferTime"></td>
              </tr>
              <tr>
                <th scope="row">14</th>
                <td> Number Of Starts</td>
                <td id="NumberOfStarts"></td>
              </tr>
              <tr>
                <th scope="row">15</th>
                <td> Number Of Transfers</td>
                <td id="NumberOfTransfers"></td>
              </tr>
              <tr>
                <th scope="row">16</th>
                <td> Faults</td>
                <td id="Faults"></td>
              </tr>
              <tr>
                <th scope="row">17</th>
                <td> End Of Life Event Count</td>
                <td id="EndOfLifeEventCount"></td>
              </tr>
          </tbody>
        </table>
      </div>
 
    </div>
  </div>
     </div>

  <!-- SCRIPTS -->
  <!-- JQuery -->
  <script src="js/jquery-3.4.1.min.js"></script>

  <script src="https://code.jquery.com/jquery-3.5.1.js"></script>
  <script src="https://cdn.datatables.net/1.10.21/js/jquery.dataTables.min.js"></script>
  <!-- Bootstrap tooltips -->
  <script src="js/popper.min.js"></script>
  <!-- Bootstrap core JavaScript -->
  <script src="js/bootstrap.min.js"></script>
  <!-- MDB core JavaScript -->
  <script src="js/mdb.min.js"></script>
  <!-- Initializations -->
  <script src="js/custom.js"></script> 

<script>

  $(document).ready(function() {
    $('#example').DataTable( {
        "order": [[ 3, "desc" ]]
    } );
} );


$(document).ready(function (e) {

    $.get('/item').then(function (data) {
      console.log({
        "Starts that didn't transfer": data.avg_of_starts,
        "Starts that didn't transfer %": Math.round((data.avg_of_starts / data.avg_of_st) * 100),
        'Starts that transferred': data.avg_of_transfers,
        'Starts that transferred %': Math.round((data.avg_of_transfers / data.avg_of_st) * 100),
        'Average number of start': data.avg_of_st,
      });

      data.data_array.forEach((elem, index) => {
        $('#maintable').append(
          '<tr>' +
          '<th scope="row">' + parseInt(index + 1) + '</th>' +
          '<td class="text-center">' + elem.manufacturer + '</td>' +
          '<td class="text-center">' + elem.assetId + '</td>' +
          '<td class="text-center">' + elem.UUID + '</td>' +
          '<td class="text-center">' + elem.NumberOfStarts + '</td>' +
          '<td class="text-center">' + elem.NumberOfTransfers + '</td>' +
          '<td class="text-center">' + elem.ManufacturingDate + '</td>' +
          '<td class="text-center">' + elem.PartNumber + '</td>' +
          '<td class="text-center">' + elem.timestamp + '</td>' +
          '</tr>'
        )
      });
    })

  });
</script>

</body>

</html>
