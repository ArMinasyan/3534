<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Hypertherm</title>
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.11.2/css/all.css">
  <!-- Bootstrap core CSS -->
  <link href="css/bootstrap.min.css" rel="stylesheet">
  <!-- Material Design Bootstrap -->
  <link href="css/mdb.min.css" rel="stylesheet">
  <!-- Style custom styles (optional) -->
  <link href="css/style.min.css" rel="stylesheet">
  <!--  -->
  <link href="css/addons/datatables.min.css" rel="stylesheet">
  <link href="css/addons/datatables-select.min.css" rel="stylesheet">

  <!-- Style Custom style -->
  <link href="css/custom.css" rel="stylesheet">
  <!-- Datatable -->
  <!-- <link rel="stylesheet" href="https://cdn.datatables.net/1.10.21/css/jquery.dataTables.css">
  <link rel="stylesheet" href="https://cdn.datatables.net/v/bs4/dt-1.10.21/datatables.min.css"/> -->
  <!-- MDBootstrap Datatables  -->




</head>

<body class="lighten-3">

  <!--Main Navigation-->
  <header>

    <!-- Navbar -->
    <nav class="navbar fixed-top navbar-expand-lg navbar-light white scrolling-navbar py-0">
      <div class="container-fluid">

        <!-- Brand -->
        <!-- <div class="navbar-brand">
          
        </div> -->

        <!-- <form id="filter" class="form-inline d-flex md-form my-3">
          <div class="form-row">
            <div class="col form-content d-flex justify-content-center">


              <select id="filter_value" class="browser-default custom-select">
                <option>Find By</option>
                <option value="assetId">Asset ID</option>
                <option value="UUID">UUID</option>
                <option value="ManufacturingDate">Manufacturing Date</option>
                <option value="manufacturer">Manufacturer</option>
                <option value="serialNumber">Serial Number</option>
              </select>

            </div>
            <div class="col d-flex form-content">


              <input id="filter_data" class="form-control form-control-sm ml-3 w-100 font-14" type="text"
                placeholder="Search" aria-label="Search">
              <div class="ml-2">

                <i class="fas fa-search" aria-hidden="true"></i> 
                <button type="submit" class="btn btn-outline-primary btn-sm btn-rounded waves-effect" id="search">
                  Search
                </button>
              </div>

            </div>
          </div>

        </form> -->


        <!-- Collapse -->
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
          aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>

        <!-- Links -->
        <div class="collapse navbar-collapse" id="navbarSupportedContent">

          <!-- <ul class="navbar-nav nav-flex-icons ml-auto">
            <li class="nav-item border-left border-right">
              <a href="#" class="nav-link waves-effect">
                <i class="fa fa-bell" aria-hidden="true"></i>
              </a>
            </li>
            <li class="nav-item dropdown mx-5">
              <a class="nav-link dropdown-toggle" id="navbarDropdownMenuLink-333" data-toggle="dropdown"
                aria-haspopup="true" aria-expanded="false">
                <i class="fas fa-user"></i>
              </a>
              <div class="dropdown-menu dropdown-menu-right dropdown-default"
                aria-labelledby="navbarDropdownMenuLink-333">
                <a class="dropdown-item" href="#">Action</a>
                <a class="dropdown-item" href="#">Another action</a>
                <a class="dropdown-item" href="#">Something else here</a>
              </div>
            </li>
          </ul> -->

        </div>

      </div>
    </nav>
    <!-- Navbar -->

    <!-- Sidebar -->
    <div class="sidebar-fixed position-fixed ">

      <!-- logo wrapper -->
      <a class="logo-wrapper waves-effect">
        <div class="">
          <img src="img/svgSlider/hyperetherm.svg" class="img-fluid mr-2" alt="HYPERETHERM" />
        </div>
      </a>

      <!-- list group -->
      <div class="list-group list-group-flush">
        <a href="dashboard.html" class="list-group-item list-group-item-action waves-effect">
          <i class="fas fa-pencil-alt mr-3"></i>

          <span>Summary report</span>
        </a>
        <a href="contactus.html" class="list-group-item list-group-item-action waves-effect">
          <i class="fas fa-digital-tachograph mr-3"></i>
          <span>Data Replicated</span>
        </a>
        <a href="charts.html" class="list-group-item list-group-item-action waves-effect">
          <i class="fas fa-chart-bar mr-3"></i>
          <span>Charts</span>
        </a>
        <a href="products.html" class="list-group-item list-group-item-action waves-effect">
          <i class="fas fa-chart-pie mr-3"></i>
          <span>Cartridge Types</span>
        </a>
        <a href="about.html" class="list-group-item list-group-item-action waves-effect">
          <i class="fas fa-chart-line mr-3"></i>
          <span>Criteria</span>
        </a>
        <a href="about.html" class="list-group-item list-group-item-action waves-effect">
          <i class="fas fa-clipboard-list mr-3"></i>
          <span>EU List</span>
        </a>
        <a href="index.html" class="list-group-item list-group-item-action waves-effect active-link">
          <i class="fas fa-table mr-3"></i>
          <span>Torch table</span>
        </a>
        <a href="about.html" class="list-group-item list-group-item-action waves-effect">
          <i class="fas fa-file-code mr-3"></i>
          <span>Fault Code Table</span>

        </a>
        <a href="pawertable.html" class="list-group-item list-group-item-action waves-effect">
          <i class="fas fa-tablets mr-3"></i>
          <span>Power supply table</span>
        </a>
        <a href="about.html" class="list-group-item list-group-item-action waves-effect">
          <i class="fas fa-border-all mr-3"></i>
          <span>Cartridge table</span>
        </a>
      </div>

    </div>
    <!-- Sidebar -->

  </header>
  <!--Main Navigation-->

  <!--Main layout-->
  <main class="pt-5 mx-lg-3 h-100">
    <div class="container-fluid mt-5">

      <!--  -->
      <div class="row">
        <div class="col-12">
          <div class="card card-body">
            <table id="Live" class="table table-striped" class="display" width="100%">
              <thead>
                <tr>
                  <th class="th-sm text-center">Manufacturer</th>
                  <th class="th-sm text-center">Asset ID</th>
                  <th class="th-sm text-center">UUID</th>
                  <th class="th-sm text-center">Number Of Starts</th>
                  <th class="th-sm text-center">Number Of Transfers</th>
                  <th class="th-sm text-center">Manufacturing Date</th>
                  <th class="th-sm text-center">Part Number</th>
                  <th class="th-sm text-center">Timestamp</th>
                </tr>
              </thead>
              <tbody id="livetable">

              </tbody>
              <tfoot>
                <tr>
                  <th class="text-center">Manufacturer</th>
                  <th class="text-center">Asset ID</th>
                  <th class="text-center">UUID</th>
                  <th class="text-center">Number Of Starts</th>
                  <th class="text-center">Number Of Transfers</th>
                  <th class="text-center">Manufacturing Date</th>
                  <th class="text-center">Part Number</th>
                  <th class="text-center">Timestamp</th>
                </tr>
              </tfoot>
            </table>
          </div>
        </div>
      </div>
      <!--  -->

      <!-- dtMaterialDesignExample table -->
      <div class="row">
        <div class="col-12">
          <div class="card card-body mt-5">
            <table id="dtMaterialDesignExample" class="table table-striped my-5" cellspacing="0" width="100%">
              <thead>
                <tr>
                  <th class="th-sm">#</th>
                  <th class="th-sm">Manufacturer</th>
                  <th class="th-sm">Asset ID</th>
                  <th class="th-sm">UUID</th>
                  <th class="th-sm">Number Of Starts</th>
                  <th class="th-sm">Number Of Transfers</th>
                  <th class="th-sm">Manufacturing Date</th>
                  <th class="th-sm">Part Number</th>
                  <th class="th-sm">Timestamp</th>
                </tr>
              </thead>
              <tbody id="maintable">
                <tr> 
                  <th scope="row">1</th>
                  <td class="text-center"> Hypertherm</td>
                  <td class="text-center"> 03c03539-27dc-4e7e-9bcd-e6a331a47828 </td>
                  <td class="text-center"> E0-04-01-D0-03-EF-6E-03 </td>
                  <td class="text-center"> 2 </td>
                  <td class="text-center"> 2 </td>
                  <td class="text-center"> 2019-01-31 </td>
                  <td class="text-center"> 420428 </td>
                  <td class="text-center"> 2020-08-11T15:07:42.213Z </td>
                </tr>
                <tr> 
                  <th scope="row">2</th>
                  <td class="text-center"> Hypertherm</td>
                  <td class="text-center"> 45b94f37-c8c2-4a94-b71f-ba73d64a38d6 </td>
                  <td class="text-center"> E0-04-01-50-3A-76-26-F8 </td>
                  <td class="text-center"> 39 </td>
                  <td class="text-center"> 0 </td>
                  <td class="text-center"> 2019-04-17 </td>
                  <td class="text-center"> 420457 </td>
                  <td class="text-center"> 2020-08-11T15:07:42.212Z </td>
                </tr>
                <tr> 
                  <th scope="row">3</th>
                  <td class="text-center"> Hypertherm</td>
                  <td class="text-center"> 8c73c853-e341-4b2f-b1b3-c4e979467f4c </td>
                  <td class="text-center"> E0-04-01-D0-03-70-4F-B5 </td>
                  <td class="text-center"> 3 </td>
                  <td class="text-center"> 3 </td>
                  <td class="text-center"> 2019-05-29 </td>
                  <td class="text-center"> 428930 </td>
                  <td class="text-center"> 2020-08-11T15:07:36.751Z </td>
                </tr>
                <tr> 
                  <th scope="row">4</th>
                  <td class="text-center"> Hypertherm</td>
                  <td class="text-center"> 468477a7-efc0-4c57-ba78-a125a9e93a56 </td>
                  <td class="text-center"> E0-04-01-D0-03-70-A4-8F </td>
                  <td class="text-center"> 433 </td>
                  <td class="text-center"> 414 </td>
                  <td class="text-center"> 2019-08-14 </td>
                  <td class="text-center"> 428934 </td>
                  <td class="text-center"> 2020-08-11T15:07:31.820Z </td>
                </tr>
                <tr> 
                  <th scope="row">5</th>
                  <td class="text-center"> Hypertherm</td>
                  <td class="text-center"> d9a8dd03-4e92-4aab-a594-c21aea3c54ab </td>
                  <td class="text-center"> E0-04-01-D0-03-3B-F4-64 </td>
                  <td class="text-center"> 6 </td>
                  <td class="text-center"> 3 </td>
                  <td class="text-center"> 2019-05-08 </td>
                  <td class="text-center"> 428934 </td>
                  <td class="text-center"> 2020-08-11T15:07:25.718Z </td>
                </tr>
                <tr> 
                  <th scope="row">6</th>
                  <td class="text-center"> Hypertherm</td>
                  <td class="text-center"> 2418626f-d714-4ad3-b0bc-ce554a49197d </td>
                  <td class="text-center"> E0-04-01-D0-03-70-D3-BA </td>
                  <td class="text-center"> 0 </td>
                  <td class="text-center"> 0 </td>
                  <td class="text-center"> 2019-12-06 </td>
                  <td class="text-center"> 428936 </td>
                  <td class="text-center"> 2020-08-11T15:07:18.955Z </td>
                </tr>
                <tr> 
                  <th scope="row">7</th>
                  <td class="text-center"> Hypertherm</td>
                  <td class="text-center"> be7508ef-3b22-43ce-85cb-3eb40288fb75 </td>
                  <td class="text-center"> E0-04-01-D0-03-2D-C3-75 </td>
                  <td class="text-center"> 0 </td>
                  <td class="text-center"> 0 </td>
                  <td class="text-center"> 2020-01-30 </td>
                  <td class="text-center"> 428936 </td>
                  <td class="text-center"> 2020-08-11T15:07:13.615Z </td>
                </tr>
                <tr> 
                  <th scope="row">8</th>
                  <td class="text-center"> Hypertherm</td>
                  <td class="text-center"> f97b7251-b2b9-46b1-bb01-86c86fa14df6 </td>
                  <td class="text-center"> E0-04-01-D0-03-EF-6E-02 </td>
                  <td class="text-center"> 6 </td>
                  <td class="text-center"> 3 </td>
                  <td class="text-center"> 2019-05-08 </td>
                  <td class="text-center"> 428934 </td>
                  <td class="text-center"> 2020-08-11T15:07:06.515Z </td>
                </tr>
                <tr> 
                  <th scope="row">9</th>
                  <td class="text-center"> Hypertherm</td>
                  <td class="text-center"> 1d91ded3-c6bd-4662-8243-c8b66c8c1b47 </td>
                  <td class="text-center"> E0-04-01-D0-03-70-E9-F6 </td>
                  <td class="text-center"> 5308 </td>
                  <td class="text-center"> 5298 </td>
                  <td class="text-center"> 2019-10-04 </td>
                  <td class="text-center"> 428930 </td>
                  <td class="text-center"> 2020-08-11T15:06:59.559Z </td>
                </tr>
                <tr> 
                  <th scope="row">10</th>
                  <td class="text-center"> Hypertherm</td>
                  <td class="text-center"> 6c01486c-d8aa-4259-b73a-e65fd5ab0bef </td>
                  <td class="text-center"> E0-04-01-D0-03-70-D2-B8 </td>
                  <td class="text-center"> 96 </td>
                  <td class="text-center"> 71 </td>
                  <td class="text-center"> 2019-08-14 </td>
                  <td class="text-center"> 428934 </td>
                  <td class="text-center"> 2020-08-11T15:06:53.197Z </td>
                </tr>
                <tr> 
                  <th scope="row">11</th>
                  <td class="text-center"> Hypertherm</td>
                  <td class="text-center"> 2370f3f0-bcf0-49cd-9400-282f9530ed71 </td>
                  <td class="text-center"> E0-04-01-D0-03-3B-E6-7A </td>
                  <td class="text-center"> 0 </td>
                  <td class="text-center"> 0 </td>
                  <td class="text-center"> 2019-07-16 </td>
                  <td class="text-center"> 428936 </td>
                  <td class="text-center"> 2020-08-11T15:06:47.829Z </td>
                </tr>
                <tr> 
                  <th scope="row">12</th>
                  <td class="text-center"> Hypertherm</td>
                  <td class="text-center"> f61f363d-7bda-4693-a2b8-8a2d1de262cd </td>
                  <td class="text-center"> E0-04-01-D0-03-6F-25-D0 </td>
                  <td class="text-center"> 3 </td>
                  <td class="text-center"> 3 </td>
                  <td class="text-center"> 2019-10-31 </td>
                  <td class="text-center"> 428936 </td>
                  <td class="text-center"> 2020-08-11T15:06:43.013Z </td>
                </tr>
                <tr> 
                  <th scope="row">13</th>
                  <td class="text-center"> Hypertherm</td>
                  <td class="text-center"> f2b59458-fe79-424c-803b-01238b1b658f </td>
                  <td class="text-center"> E0-04-01-D0-03-71-42-5D </td>
                  <td class="text-center"> 1033 </td>
                  <td class="text-center"> 1033 </td>
                  <td class="text-center"> 2020-02-21 </td>
                  <td class="text-center"> 428934 </td>
                  <td class="text-center"> 2020-08-11T15:06:37.721Z </td>
                </tr>
                <tr> 
                  <th scope="row">14</th>
                  <td class="text-center"> Hypertherm</td>
                  <td class="text-center"> 508f8b59-0c66-4448-8b2d-875502ffae70 </td>
                  <td class="text-center"> E0-04-01-D0-03-6F-A7-D5 </td>
                  <td class="text-center"> 0 </td>
                  <td class="text-center"> 0 </td>
                  <td class="text-center"> 2019-11-25 </td>
                  <td class="text-center"> 428936 </td>
                  <td class="text-center"> 2020-08-11T15:06:32.181Z </td>
                </tr><tr> 
                  <th scope="row">15</th>
                  <td class="text-center"> Hypertherm</td>
                  <td class="text-center"> b3a62b63-db55-4b01-b3d6-0ab1821b8a97 </td>
                  <td class="text-center"> E0-04-01-D0-03-EF-11-97 </td>
                  <td class="text-center"> 3 </td>
                  <td class="text-center"> 0 </td>
                  <td class="text-center"> 2019-05-09 </td>
                  <td class="text-center"> 428936 </td>
                  <td class="text-center"> 2020-08-11T15:06:25.412Z </td>
                </tr>
                <tr> 
                  <th scope="row">16</th>
                  <td class="text-center"> Hypertherm</td>
                  <td class="text-center"> 0677884d-4d2c-4ca6-8849-85fe82df79eb </td>
                  <td class="text-center"> E0-04-01-D0-03-70-2A-4E </td>
                  <td class="text-center"> 330 </td>
                  <td class="text-center"> 322 </td>
                  <td class="text-center"> 2019-06-04 </td>
                  <td class="text-center"> 428954 </td>
                  <td class="text-center"> 2020-08-11T15:06:02.107Z </td>
                </tr>
                <tr> 
                  <th scope="row">17</th>
                  <td class="text-center"> Hypertherm</td>
                  <td class="text-center"> 8f6b2418-0cf0-4d71-ad25-de9020502ce2 </td>
                  <td class="text-center"> E0-04-01-D0-03-6F-29-42 </td>
                  <td class="text-center"> 3817 </td>
                  <td class="text-center"> 3815 </td>
                  <td class="text-center"> 2019-10-04 </td>
                  <td class="text-center"> 428930 </td>
                  <td class="text-center"> 2020-08-11T14:55:51.638Z </td>
                </tr>
                <tr> 
                  <th scope="row">18</th>
                  <td class="text-center"> Hypertherm</td>
                  <td class="text-center"> e1bbba2d-6f09-4007-b3e8-06a831d7e08f </td>
                  <td class="text-center"> E0-04-01-D0-03-70-D2-6E </td>
                  <td class="text-center"> 0 </td>
                  <td class="text-center"> 0 </td>
                  <td class="text-center"> 2019-05-10 </td>
                  <td class="text-center"> 428937 </td>
                  <td class="text-center"> 2020-08-11T14:55:51.637Z </td>
                </tr>
                <tr> 
                  <th scope="row">19</th>
                  <td class="text-center"> Hypertherm</td>
                  <td class="text-center"> b9cb4f9a-1108-4e26-920b-c8b880a1b7a5 </td>
                  <td class="text-center"> E0-04-01-D0-03-6F-29-42 </td>
                  <td class="text-center"> 3817 </td>
                  <td class="text-center"> 3815 </td>
                  <td class="text-center"> 2019-10-04 </td>
                  <td class="text-center"> 428930 </td>
                  <td class="text-center"> 2020-08-11T14:53:47.972Z </td>
                </tr>
                <tr> 
                  <th scope="row">20</th>
                  <td class="text-center"> Hypertherm</td>
                  <td class="text-center"> 761c8f49-5e1e-475a-beff-b086e29cd2fc </td>
                  <td class="text-center"> E0-04-01-D0-03-70-B7-7F </td>
                  <td class="text-center"> 3 </td>
                  <td class="text-center"> 0 </td>
                  <td class="text-center"> 2019-05-09 </td>
                  <td class="text-center"> 428936 </td>
                  <td class="text-center"> 2020-08-11T14:45:33.011Z </td>
                </tr>
             
              </tbody>
              <tfoot>
                <tr>
                  <th>#</th>
                  <th class="text-center">Manufacturer</th>
                  <th class="text-center">Asset ID</th>
                  <th class="text-center">UUID</th>
                  <th class="text-center">Number Of Starts</th>
                  <th class="text-center">Number Of Transfers</th>
                  <th class="text-center">Manufacturing Date</th>
                  <th class="text-center">Part Number</th>
                  <th class="text-center">Timestamp</th>
                </tr>
              </tfoot>
            </table>
          </div>
        </div>
      </div>
      <!--  -->

        <!-- DataTable table -->
      <!-- <table id="DataTable" class="table table-striped mt-5" class="display" width="100%">
        <thead>
          <tr>
            <th>#</th>
            <th class="th-sm">Manufacturer</th>
            <th class="th-sm">Asset ID</th>
            <th class="th-sm">UUID</th>
            <th class="th-sm">Number Of Starts</th>
            <th class="th-sm">Number Of Transfers</th>
            <th class="th-sm">Manufacturing Date</th>
            <th class="th-sm">Part Number</th>
            <th class="th-sm">Timestamp</th>
          </tr>
        </thead>
        <tbody id="arraytable">

        </tbody>
        <tfoot>
          <tr>
            <th>#</th>
            <th class="text-center">Manufacturer</th>
            <th class="text-center">Asset ID</th>
            <th class="text-center">UUID</th>
            <th class="text-center">Number Of Starts</th>
            <th class="text-center">Number Of Transfers</th>
            <th class="text-center">Manufacturing Date</th>
            <th class="text-center">Part Number</th>
            <th class="text-center">Timestamp</th>
          </tr>
        </tfoot>
      </table> -->
      <!--  -->

    </div>
  </main>

</body>

<!-- SCRIPTS -->
<!-- JQuery -->
<script src="js/jquery-3.4.1.min.js"></script>

<!-- DataTables JS -->
<script src="js/addons/datatables.min.js" type="text/javascript"></script>
<script src="js/addons/datatables-select.min.js" type="text/javascript"></script>
<!-- DataTables Select JS -->

<script type="javascript" charset="utf8" src="https://cdn.datatables.net/1.10.21/js/jquery.dataTables.js"></script>
<script type="javascript" src="https://cdn.datatables.net/v/bs4/dt-1.10.21/datatables.min.js"></script>

<!-- Bootstrap tooltips -->
<script src="js/popper.min.js"></script>
<!-- Bootstrap core JavaScript -->
<script src="js/bootstrap.min.js"></script>
<!-- MDB core JavaScript -->
<script src="js/mdb.min.js"></script>
<!-- Initializations -->
<script src="js/custom.js"></script>
<!-- MDBootstrap Datatables  -->

<script>

      $('#Live').DataTable({
        "serverSide": true,
        ajax: {
          'url': '/item',
          'type': 'GET'
        },

      });

      $('#Live_wrapper').find('label').each(function () {
        $(this).parent().append($(this).children());
      });
      $('#Live .dataTables_filter').find('input').each(function () {
        const $this = $(this);
        $this.attr("placeholder", "Search");
        $this.removeClass('form-control-sm');
      });
      $('#Live .dataTables_length').addClass('d-flex flex-row');
      $('#DataTable .dataTables_filter').addClass('md-form');
      $('#DataTable select').removeClass(
        'custom-select custom-select-sm form-control form-control-sm');
      $('#DataTable select').addClass('mdb-select');
      $('#DataTable .mdb-select').materialSelect();
      $('#DataTable .dataTables_filter').find('label').remove();

      
  $('#filter').on('submit', function (e) {
    e.preventDefault();
    e.stopPropagation();
    
   $('#SearchModal').attr("hidden", "false" ); 
    let filter_value = $('#filter_value').val();
    let filter_data = $('#filter_data').val();
    $.get('item?' + filter_value + '=' + filter_data).then(function (data) {
      $('table tbody tr').remove();
      data.data_array.forEach((elem, index) => {
        $('#maintable').append(
          '<tr>' +
          '<th scope="row">' + parseInt(index + 1) + '</th>' +
          '<td class="text-center">' + elem.manufacturer + '</td>' +
          '<td class="text-center">' + elem.assetId + '</td>' +
          '<td class="text-center">' + elem.UUID + '</td>' +
          '<td class="text-center">' + elem.NumberOfStarts + '</td>' +
          '<td class="text-center">' + elem.NumberOfTransfers + '</td>' +
          '<td class="text-center">' + elem.ManufacturingDate + '</td>' +
          '<td class="text-center">' + elem.PartNumber + '</td>' +
          '<td class="text-center">' + elem.timestamp + '</td>' +
          '</tr>'
        )
      });
    });
  });

  $(document).ready(function (e) {

    $.get('/item').then(function (data) {
      console.log({
        "Starts that didn't transfer": data.avg_of_starts,
        "Starts that didn't transfer %": Math.round((data.avg_of_starts / data.avg_of_st) * 100),
        'Starts that transferred': data.avg_of_transfers,
        'Starts that transferred %': Math.round((data.avg_of_transfers / data.avg_of_st) * 100),
        'Average number of start': data.avg_of_st,
      });
      data.data_array.forEach((elem, index) => {
        $('#arraytable').append(
          '<tr>' +
          '<th scope="row">' + parseInt(index + 1) + '</th>' +
          '<td class="text-center">' + elem.manufacturer + '</td>' +
          '<td class="text-center">' + elem.assetId + '</td>' +
          '<td class="text-center">' + elem.UUID + '</td>' +
          '<td class="text-center">' + elem.NumberOfStarts + '</td>' +
          '<td class="text-center">' + elem.NumberOfTransfers + '</td>' +
          '<td class="text-center">' + elem.ManufacturingDate + '</td>' +
          '<td class="text-center">' + elem.PartNumber + '</td>' +
          '<td class="text-center">' + elem.timestamp + '</td>' +
          '</tr>'
        )
      });
    });

  });

  let get_data = () => {
      $.get('/item').then(function (data) {

        data.data_array.forEach((elem, index) => {
          $('#maintable').append(
              '<tr>' +
              '<th scope="row">' + parseInt(index + 1) + '</th>' +
              '<td class="text-center">' + elem.manufacturer + '</td>' +
              '<td class="text-center">' + elem.assetId + '</td>' +
              '<td class="text-center">' + elem.UUID + '</td>' +
              '<td class="text-center">' + elem.serialNumber + '</td>' +
              '<td class="text-center">' + elem.ManufacturingDate + '</td>' +
              '<td class="text-center">' + elem.PartNumber + '</td>' +
              '</tr>'
            )
          });
        })
      };

  // search 

  $('#search').on('click', function (e) {

      let filter_value = $('#filter_value').val();
      let filter_data = $('#filter_data').val();

      $.get('item?' + filter_value + '=' + filter_data).then(function (data) {
        if (data.data_array.length > 1) {
          $('#close_modal').click();
          $('table tbody tr').remove();
          data.data_array.forEach((elem, index) => {
            $('#maintable').append(
              '<tr>' +
              '<th scope="row">' + parseInt(index + 1) + '</th>' +
              '<td class="text-center">' + elem.manufacturer + '</td>' +
              '<td class="text-center">' + elem.assetId + '</td>' +
              '<td class="text-center">' + elem.UUID + '</td>' +
              '<td class="text-center">' + elem.serialNumber + '</td>' +
              '<td class="text-center">' + elem.ManufacturingDate + '</td>' +
              '<td class="text-center">' + elem.PartNumber + '</td>' +
              '</tr>'
            )
          });
        } else {
          let keys = Object.keys(data.data_array[0]);
          let elems = data.data_array[0];
          keys.forEach(key => {
            $('#' + key).html(elems[key]);
          })
          $('#SearchModal').on('show', function () {
            $('#SearchModal').trigger('focus')
          })
        }
      });
    });

  // Material Design example
  $(document).ready(function () {

    $.get('/item').then(function (data) {
      console.log({
        "Starts that didn't transfer": data.avg_of_starts,
        "Starts that didn't transfer %": Math.round((data.avg_of_starts / data.avg_of_st) * 100),
        'Starts that transferred': data.avg_of_transfers,
        'Starts that transferred %': Math.round((data.avg_of_transfers / data.avg_of_st) * 100),
        'Average number of start': data.avg_of_st,
      });
      data.data_array.forEach((elem, index) => {
        $('#maintable').append(
          '<tr>' +
          '<th scope="row">' + parseInt(index + 1) + '</th>' +
          '<td class="text-center">' + elem.manufacturer + '</td>' +
          '<td class="text-center">' + elem.assetId + '</td>' +
          '<td class="text-center">' + elem.UUID + '</td>' +
          '<td class="text-center">' + elem.NumberOfStarts + '</td>' +
          '<td class="text-center">' + elem.NumberOfTransfers + '</td>' +
          '<td class="text-center">' + elem.ManufacturingDate + '</td>' +
          '<td class="text-center">' + elem.PartNumber + '</td>' +
          '<td class="text-center">' + elem.timestamp + '</td>' +
          '</tr>'
        )
      });
    })
    $('#dtMaterialDesignExample').DataTable();
    $('#dtMaterialDesignExample_wrapper').find('label').each(function () {
      $(this).parent().append($(this).children());
    });
    $('#dtMaterialDesignExample_wrapper .dataTables_filter').find('input').each(function () {
      const $this = $(this);
      $this.attr("placeholder", "Search");
      $this.removeClass('form-control-sm');
    });
    $('#dtMaterialDesignExample_wrapper .dataTables_length').addClass('d-flex flex-row');
    $('#dtMaterialDesignExample_wrapper .dataTables_filter').addClass('md-form');
    $('#dtMaterialDesignExample_wrapper select').removeClass('custom-select custom-select-sm form-control form-control-sm');
    $('#dtMaterialDesignExample_wrapper select').addClass('mdb-select');
    $('#dtMaterialDesignExample_wrapper .mdb-select').materialSelect();
    $('#dtMaterialDesignExample_wrapper .dataTables_filter').find('label').remove();
  });

  </script>

</html>